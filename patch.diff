From 721944245e76db52d8a35f09423bfe6bca9e5845 Mon Sep 17 00:00:00 2001
From: slipknot999 <qoaqkrtk@naver.com>
Date: Fri, 16 Dec 2016 12:06:43 +0900
Subject: [PATCH] lLHS_1216_3

---
 .../project01/controller/ContentController.java    |  5 +-
 bitShare/src/main/webapp/js/userValidationCheck.js | 63 ++++++++++++----------
 bitShare/src/main/webapp/module/signupModal.jsp    |  6 +--
 3 files changed, 38 insertions(+), 36 deletions(-)

diff --git a/bitShare/src/main/java/bitcamp/java87/project01/controller/ContentController.java b/bitShare/src/main/java/bitcamp/java87/project01/controller/ContentController.java
index bbb444b..df60c32 100644
--- a/bitShare/src/main/java/bitcamp/java87/project01/controller/ContentController.java
+++ b/bitShare/src/main/java/bitcamp/java87/project01/controller/ContentController.java
@@ -2,11 +2,10 @@ package bitcamp.java87.project01.controller;
 
 import java.util.Map;
 
-<<<<<<< HEAD
+
 import javax.servlet.http.HttpServletRequest;
-=======
+
 import javax.servlet.http.HttpSession;
->>>>>>> 2b84cc91e554c6867f26c3b3c9ff8e4d6ff56d9e
 
 import org.springframework.beans.factory.annotation.Autowired;
 import org.springframework.beans.factory.annotation.Qualifier;
diff --git a/bitShare/src/main/webapp/js/userValidationCheck.js b/bitShare/src/main/webapp/js/userValidationCheck.js
index 8948f23..d22ff97 100644
--- a/bitShare/src/main/webapp/js/userValidationCheck.js
+++ b/bitShare/src/main/webapp/js/userValidationCheck.js
@@ -1,30 +1,35 @@
-$(document).ready(function() {
-	$("#checkEmail").click(function(){
-		var param=$("#email").val();
-		$.post('/user/checkDuplication',{"email":param},function(data){
-			alert("success:"+data);
-			if(data==false){
-			   $('#errorEmail').show();			   
-			}else{			
-				  $('#succsessEmail').show();
-			}
+$(document).ready(
+		function() {
+			/*
+			 * $("#checkEmail").click(function(){ var param=$("#email").val();
+			 * $.post('/user/checkDuplication',{"email":param},function(data){
+			 * alert("success:"+data); if(data==false){ $('#errorEmail').show();
+			 * }else{ $('#succsessEmail').show(); } }); });
+			 */
+			$('#email').on(
+					'keyup',
+					function() {
+						var re = /([A-Z0-9a-z_-][^@])+?@[^$#<>?]+?\.[\w]{2,4}/	.test(this.value);
+						var param = $("#email").val();
+											
+						$.post('/user/checkDuplication', {
+							"email" : param
+						}, function(data) {							
+							if (data == false || !re ) {
+								$('#succsessEmail').hide();	
+								$('#errorEmail').show();
+							} else {
+								$('#errorEmail').hide();
+								$('#succsessEmail').show();						
+							}
+						}), 
+						$("#confirmPwd").keyup(function(event) {
+							var pwd = $("#pwd").val();
+							if (pwd == $(this).val()) {
+								$('#errorPwd').hide();
+							} else {
+								$('#errorPwd').show();
+							}
+						});
+					});
 		});
-	});
-	$('#email').on('keyup', function() {
-	    var re = /([A-Z0-9a-z_-][^@])+?@[^$#<>?]+?\.[\w]{2,4}/.test(this.value);
-	    if(!re) {
-	        $('#errorEmail').show();
-	    } else {
-	        $('#errorEmail').hide();
-	    }
-	}),
-	$("#confirmPwd").keyup(function(event){
-		var pwd = $("#pwd").val();
-		if (pwd==$(this).val()){
-			  $('#errorPwd').hide();
-		}else{
-			  $('#errorPwd').show();
-		}		
-	});
-	
-});
diff --git a/bitShare/src/main/webapp/module/signupModal.jsp b/bitShare/src/main/webapp/module/signupModal.jsp
index d080019..c93dfa8 100644
--- a/bitShare/src/main/webapp/module/signupModal.jsp
+++ b/bitShare/src/main/webapp/module/signupModal.jsp
@@ -17,10 +17,8 @@
 						     <form name="addUserForm" id="addUserForm" method="post"  action="/user/addUser">
 							<div class="form-group" style="width: 70%; margin: auto;">
 								<label for="inputEmail" style="font-size: 20px;">Email address</label> 
-								<input type="text" class="form-control" name="email"	id="email" placeholder="email"   value="${ ! empty result && result ? eamil : '' }" >
-							<button type="button" id="checkEmail" class="btn btn-primary" >CheckEmail</button>
-									 <span id="errorEmail" style="display:none;color:red;">Check your Email</span>
-									 <span id="checkEmail" style="display:none;color:red;">This email is already in use.</span>
+								<input type="text" class="form-control" name="email"	id="email" placeholder="email"   value="${ ! empty result && result ? email : '' }" >
+								 <span id="errorEmail" style="display:none;color:red;">Check your Email</span>									 
 									 <span id="succsessEmail" style="display:none;color:blue;">Available email.</span>
 							</div>
 
-- 
2.10.2.windows.1

